<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>async+await</title>
</head>

<body>
  <h1>async함수 await키워드</h1>
  <p>Promise를 좀 더 쉽게 사용할 수 있게 만든 비동기 함수</p>
  <ul>
    <li>항상 promise 객체를 반환</li>
    <li>비동기 함수 선언시 async 함수 작성</li>
    <li>해당 패키징 함수 안쪽 반환하는 promise 함수 앞에 await 지정</li>
    <li>await 키워드는 async 함수에서만 사용 가능. 처리 결과 반환</li>
    <li>await로 지정된 함수가 끝날 때까지 그 다음 함수는 동기화</li>
  </ul>

  <h2>Promise</h2>
  <p>비동기 작업의 완료, 실패를 나타내는 객체</p>
  <ul>
    <li>new Promise((reslove성공, reject실패)=>{})</li>
    <li>Pending: 대기</li>
    <li>Fulfilled : 성공</li>
    <li>Rejected: 실패</li>
  </ul>

  <script>
    function delay(time) {
        return new Promise((res) => {
            setTimeout(()=>{
                res('성공')
            }, time);
        });
    }
    delay(3000).then(()=> console.log('성공'))
    .catch(()=>console.log('실패'))
    .finally(()=>console.log('앞의 성공 여부에 상관없이 무조건 실행'));

    // const rn = asycn function() {}
    const test = async() => {
        await delay(1000);
        console.log('asycn test')
    }
    test();
  </script>
</body>
</html>